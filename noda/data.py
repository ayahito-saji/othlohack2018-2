import json
import numpy as np
results = []
count = {}

letter = open('flower_to_vec.json' , 'r',encoding="utf-8_sig")
flowers = json.load(letter)
for flower in flowers:
    count[flower['name']] = {}
    for key,vec in flower['vec_dict'].items():
        count[flower['name']][key] = 0

def search(a,count = count,flowers = flowers):
    for flower in flowers:
        dict ={}
        for key,vec in flower['vec_dict'].items():
            dif = np.linalg.norm(np.array(a)-np.array(vec))
            count[flower['name']][key] += dif
    return count




a = {"友達":[1.0155694484710693, -1.9623242616653442, -1.548572301864624, -1.8905388116836548, -2.2136950492858887, 3.5630404949188232, -0.2303013950586319, 1.4892687797546387, -0.6977947354316711, 0.9317430853843689, 1.7249020338058472, 0.6055739521980286, -0.5379347205162048, -1.6816340684890747, -1.7719203233718872, 1.7650748491287231, -0.5104045271873474, -0.07839509099721909, 1.39539635181427, 2.0395586490631104, 1.365126371383667, 2.744316816329956, 2.1489415168762207, -0.13898296654224396, 0.45698460936546326, -0.15410690009593964, 0.41612860560417175, 0.8990602493286133, -1.8839852809906006, -0.0989842563867569, -1.1443606615066528, 0.6257661581039429, -2.555255174636841, -1.7079322338104248, 1.1421912908554077, -1.3265771865844727, -0.4460490643978119, -2.978029251098633, -0.2952646017074585, 0.8357313275337219, 3.6019299030303955, -0.8544168472290039, 0.9383842945098877, 2.139474868774414, 1.831900715827942, -1.0794662237167358, 0.44493183493614197, 0.307383269071579, -0.23896005749702454, 0.3857642412185669, -1.9313271045684814, -0.664455771446228, 1.0891871452331543, -2.180758237838745, -3.0641322135925293, 1.2538650035858154, 0.7043821811676025, 3.7848267555236816, 0.5818653702735901, -5.0661091804504395, 0.2900715172290802, 1.5551384687423706, 1.9589214324951172, -4.076544761657715, -0.31517836451530457, 0.15648826956748962, 1.1523116827011108, -0.769469678401947, 3.223487377166748, -0.4782887101173401, -4.605210781097412, -2.698289155960083, 1.539984107017517, -3.699136734008789, 4.508410930633545, -0.5528281331062317, -2.2402076721191406, -1.7026723623275757, -1.5218725204467773, 0.10785424709320068, -4.628890514373779, 1.0758007764816284, -3.4365761280059814, 3.367008924484253, 2.2553396224975586, 5.36699104309082, 0.026284663006663322, -2.4092161655426025, 2.2557246685028076, -0.12798643112182617, 2.41391658782959, 1.6410053968429565, 0.7661321759223938, -0.9796834588050842, 0.5922485589981079, 1.9534016847610474, -0.4656614661216736, 2.380265474319458, -1.7600027322769165, 0.18609203398227692, -1.294958472251892, 3.3869261741638184, 0.9504979848861694, -0.4504072964191437, 0.8634396195411682, -3.4852333068847656, -0.3471323549747467, 0.7716465592384338, 3.0001256465911865, -1.410114049911499, 3.325855016708374, 0.49627137184143066, 2.0401151180267334, -0.4639812707901001, 2.0904836654663086, -0.8651163578033447, 1.0926899909973145, 1.7329636812210083, -3.9999163150787354, 0.28707951307296753, -2.270937442779541, 0.6505182385444641, 1.3183444738388062, 0.03992123156785965, 1.9312852621078491, 2.464282751083374, -1.9238539934158325, 2.0540072917938232, 1.160071849822998, -0.9783678650856018, -0.2419366091489792, 0.15809211134910583, -2.5317893028259277, -1.5875438451766968, -0.775784969329834, -1.0557361841201782, 1.858585238456726, 0.564254105091095, -1.8041749000549316, -0.16406826674938202, 0.6194206476211548, -0.6728211641311646, 0.8357027173042297, -2.6721839904785156, -2.430619478225708, 2.236304759979248, 2.762453317642212, 2.4733238220214844, -0.5903679728507996, -2.2719883918762207, -0.979472279548645, 1.1607277393341064, 0.03722575306892395, 2.3957202434539795, 0.4883863031864166, -0.8179866075515747, -0.29414528608322144, 1.65621817111969, -3.1883578300476074, -1.0942258834838867, -2.2987024784088135, 0.10251554846763611, 3.4031434059143066, 0.3050125241279602, -1.1150805950164795, -1.1871699094772339, -2.8076932430267334, -2.788351058959961, -1.8538813591003418, 2.4426157474517822, -0.7846493721008301, -3.777440071105957, -2.762669563293457, 2.00850772857666, 2.086003065109253, -0.5998204350471497, -0.970160961151123, -1.230786919593811, -1.005696177482605, 0.13230088353157043, -2.9501686096191406, -0.0547197088599205, 2.1205904483795166, -2.08552622795105, -0.2822358012199402, -4.579366683959961, -2.1987807750701904, 2.123548746109009, 0.010584353469312191, 1.0020703077316284, 1.6895195245742798, 3.087684154510498, 2.097266674041748, 1.0100343227386475, 4.03688383102417, -6.718625545501709, -2.4659535884857178, -0.3582499921321869, -1.4962555170059204, 2.9759464263916016],
"ありがとう":[2.0155694484710693, -1.9623242616653442, -1.548572301864624, -1.8905388116836548, -2.2136950492858887, 3.5630404949188232, -0.2303013950586319, 1.4892687797546387, -0.6977947354316711, 0.9317430853843689, 1.7249020338058472, 0.6055739521980286, -0.5379347205162048, -1.6816340684890747, -1.7719203233718872, 1.7650748491287231, -0.5104045271873474, -0.07839509099721909, 1.39539635181427, 2.0395586490631104, 1.365126371383667, 2.744316816329956, 2.1489415168762207, -0.13898296654224396, 0.45698460936546326, -0.15410690009593964, 0.41612860560417175, 0.8990602493286133, -1.8839852809906006, -0.0989842563867569, -1.1443606615066528, 0.6257661581039429, -2.555255174636841, -1.7079322338104248, 1.1421912908554077, -1.3265771865844727, -0.4460490643978119, -2.978029251098633, -0.2952646017074585, 0.8357313275337219, 3.6019299030303955, -0.8544168472290039, 0.9383842945098877, 2.139474868774414, 1.831900715827942, -1.0794662237167358, 0.44493183493614197, 1.307383269071579, -0.23896005749702454, 0.3857642412185669, -1.9313271045684814, -0.664455771446228, 1.0891871452331543, -2.180758237838745, -3.0641322135925293, 1.2538650035858154, 0.7043821811676025, 3.7848267555236816, 0.5818653702735901, -5.0661091804504395, 0.2900715172290802, 1.5551384687423706, 1.9589214324951172, -4.076544761657715, -0.31517836451530457, 0.15648826956748962, 1.1523116827011108, -0.769469678401947, 3.223487377166748, -0.4782887101173401, -4.605210781097412, -2.698289155960083, 1.539984107017517, -3.699136734008789, 4.508410930633545, -0.5528281331062317, -2.2402076721191406, -1.7026723623275757, -1.5218725204467773, 0.10785424709320068, -4.628890514373779, 1.0758007764816284, -3.4365761280059814, 3.367008924484253, 2.2553396224975586, 5.36699104309082, 0.026284663006663322, -2.4092161655426025, 2.2557246685028076, -0.12798643112182617, 2.41391658782959, 1.6410053968429565, 0.7661321759223938, -0.9796834588050842, 0.5922485589981079, 1.9534016847610474, -0.4656614661216736, 2.380265474319458, -1.7600027322769165, 0.18609203398227692, -1.294958472251892, 3.3869261741638184, 0.9504979848861694, -0.4504072964191437, 0.8634396195411682, -3.4852333068847656, -0.3471323549747467, 0.7716465592384338, 3.0001256465911865, -1.410114049911499, 3.325855016708374, 0.49627137184143066, 2.0401151180267334, -0.4639812707901001, 2.0904836654663086, -0.8651163578033447, 1.0926899909973145, 1.7329636812210083, -3.9999163150787354,1.28707951307296753, -2.270937442779541, 0.6505182385444641, 1.3183444738388062, 0.03992123156785965, 1.9312852621078491, 2.464282751083374, -1.9238539934158325, 2.0540072917938232, 1.160071849822998, -0.9783678650856018, -0.2419366091489792, 0.15809211134910583, -2.5317893028259277, -1.5875438451766968, -0.775784969329834, -1.0557361841201782, 1.858585238456726, 0.564254105091095, -1.8041749000549316, -0.16406826674938202, 0.6194206476211548, -0.6728211641311646, 0.8357027173042297, -2.6721839904785156, -2.430619478225708, 2.236304759979248, 2.762453317642212, 2.4733238220214844, -0.5903679728507996, -2.2719883918762207, -0.979472279548645, 1.1607277393341064, 0.03722575306892395, 2.3957202434539795, 0.4883863031864166, -0.8179866075515747, -0.29414528608322144, 1.65621817111969, -3.1883578300476074, -1.0942258834838867, -2.2987024784088135, 0.10251554846763611, 3.4031434059143066, 0.3050125241279602, -1.1150805950164795, -1.1871699094772339, -2.8076932430267334, -2.788351058959961, -1.8538813591003418, 2.4426157474517822, -0.7846493721008301, -3.777440071105957, -2.762669563293457, 2.00850772857666, 2.086003065109253, -0.5998204350471497, -0.970160961151123, -1.230786919593811, -1.005696177482605, 0.13230088353157043, -2.9501686096191406, -0.0547197088599205, 2.1205904483795166, -2.08552622795105, -0.2822358012199402, -4.579366683959961, -2.1987807750701904, 2.123548746109009, 0.010584353469312191, 1.0020703077316284, 1.6895195245742798, 3.087684154510498, 2.097266674041748, 1.0100343227386475, 4.03688383102417, -6.718625545501709, -2.4659535884857178, -0.3582499921321869, -1.4962555170059204, 2.9759464263916016]}

for key,value in a.items():
    count = search(value)

for key,vec in count.items():
    for word,dif in vec.items():
        results.append([dif,key,word])

results = sorted(results, key=lambda x:x[0])
#print(results[0:10])
ranking_list = [[x[1], x[0]] for x in results[0:10]]
print(ranking_list)
